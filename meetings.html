<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meetings - Colfax Township</title>
    <link rel="stylesheet" href="styles.css">
    <script src="assets/js/meeting-archive.js"></script>
    <script src="assets/js/header-scroll.js"></script>
    <script src="assets/js/shared-footer.js"></script>
    <script src="assets/js/smart-maps.js"></script>
    <script>
        // Load next meeting dynamically
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                const response = await fetch('assets/data/events.json');
                const events = await response.json();
                
                // Get today's date in YYYY-MM-DD format
                const today = new Date();
                const todayString = today.toISOString().split('T')[0];
                
                // Find the next meeting after today
                const nextMeeting = events
                    .filter(event => event.type === 'meeting' && event.date >= todayString)
                    .sort((a, b) => a.date.localeCompare(b.date))[0];
                
                if (nextMeeting) {
                    // Format the date nicely
                    const dateObj = new Date(nextMeeting.date + 'T00:00:00');
                    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                    const formattedDate = dateObj.toLocaleDateString('en-US', options);
                    
                    // Update the HTML
                    const nextMeetingDiv = document.querySelector('.next-meeting-simple');
                    if (nextMeetingDiv) {
                        nextMeetingDiv.innerHTML = `
                            <h4>${formattedDate}</h4>
                            <p>${nextMeeting.time} - ${nextMeeting.description}</p>
                            <p>View all meetings and details on our <a href="community/events.html">events calendar</a>.</p>
                        `;
                    }
                }
            } catch (error) {
                console.error('Error loading next meeting:', error);
            }
        });
    </script>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <header role="banner">
        <div class="container">
            <img src="assets/images/branding/township-logo.png" alt="Colfax Township Logo" class="logo">
            <nav aria-label="Main navigation">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="community.html">Community</a></li>
                    <li><a href="board.html">Board</a></li>
                    <li><a href="meetings.html" class="active" aria-current="page">Meetings</a></li>
                    <li><a href="services.html">Services &amp; Resources</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main-content" role="main">
        <div class="container">
            <h1>Township Meetings</h1>
            <p>The Colfax Township Board typically meets on the first Tuesday of each month at 7:00 pm. Occasionally these dates may be changed to accommodate an election, holiday, or other event.</p>
            <p>All township meetings are open to the public. We encourage community participation and welcome your input.</p>
            <p>All meetings will be held at the Colfax Township Hall</p>
            <address><a href="#" class="map-link">5594 N 192nd Ave, Walkerville MI 49459</a></address>
            
            
            <section class="upcoming-meetings">
                <h2>Next Meeting</h2>
                
                <div class="next-meeting-simple">
                    <h3>February 3, 2026</h3>
                    <p>7:00 PM - Regular Board Meeting</p>
                    <p>View all meetings and details on our <a href="community/events.html">events calendar</a>.</p>
                </div>
            </section>

            <section class="meeting-minutes">
                <h2>Meeting Minutes Archive</h2>
                <p>Meeting minutes are organized by quarter for easy browsing. Click links to view available documents.</p>
                <div id="meeting-archive-quarterly" class="minutes-archive-quarterly">
                    <!-- Archive content will be loaded dynamically -->
                    <p>Loading quarterly archive...</p>
                </div>
                
                <p class="archive-help">
                    <a href="services.html#foia">Request additional documents via FOIA</a> | 
                    <a href="mailto:jonimgerard80@yahoo.com">Questions about meetings?</a>
                </p>
            </section>
        </div>
    </main>

    <div id="footer-placeholder"></div>
</body>
</html>